(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},115:function(e,t,a){e.exports=a(221)},120:function(e,t,a){},121:function(e,t,a){},143:function(e,t,a){},180:function(e,t){},183:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=(a(120),a(121),a(9)),i=a(46),s=a(21),m=a(7),u=a(245),g=a(16),E=a.n(g),d=a(249),p=a(248),h=a(242),f=a(246),v=a(247),b=a(244);function y(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){E()({method:"GET",url:"https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"coronavirus-monitor.p.rapidapi.com","x-rapidapi-key":"3a01be6e25msh75a6c8a146c41d5p18acf7jsn5846c5ec8a46"}}).then((function(e){console.log(e.data.countries_stat),l(e.data.countries_stat)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(h.a,{component:b.a},r.a.createElement(u.a,{size:"small","aria-label":"a dense table"},r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(p.a,null,r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\udca0"),"Country"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\u26a0\ufe0f"),"New Cases"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd27"),"Active Cases"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd12"),"Critical"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\udcaa"),"Recovered"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\ude35"),"New Deaths"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\ude31"),"Total Cases"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\u2620\ufe0f"),"Total Deaths"),r.a.createElement(p.a,{align:"right"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\ude37"),"Cases/1m"))),r.a.createElement(d.a,null,a.map((function(e,t){return r.a.createElement(v.a,{key:t},r.a.createElement(p.a,{style:{fontWeight:"bold"},component:"th",scope:"row"},e.country_name),r.a.createElement(p.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.new_cases),r.a.createElement(p.a,{style:{color:"red"},align:"right"},e.active_cases),r.a.createElement(p.a,{style:{color:"red"},align:"right"},e.serious_critical),r.a.createElement(p.a,{style:{color:"green",fontWeight:"bold"},align:"right"},e.total_recovered),r.a.createElement(p.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.new_deaths),r.a.createElement(p.a,{align:"right"},e.cases),r.a.createElement(p.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.deaths),r.a.createElement(p.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.total_cases_per_1m_population))}))))))}var A=a(26),j=a(45);function w(){var e=Object(n.useState)({name:""}),t=Object(m.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object(o.c)("/world/"+a.name)}},r.a.createElement("input",{name:"name",value:a.name,onChange:function(e){l(Object(j.a)({},a,Object(A.a)({},e.target.name,e.target.value)))}}),r.a.createElement("button",null," Search Country ")))}function C(e){var t=e.searchCountry,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),g=s[0],y=s[1];return Object(n.useEffect)((function(){E()({method:"GET",url:"https://covid-19-coronavirus-statistics.p.rapidapi.com/v1/stats",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"covid-19-coronavirus-statistics.p.rapidapi.com","x-rapidapi-key":"3a01be6e25msh75a6c8a146c41d5p18acf7jsn5846c5ec8a46"},params:{country:t}}).then((function(e){y(""),"Country not found. Returning all stats. Please use a country name found in the data property."===e.data.message&&y("Country not found. Case-sensitive.Please try again!"),console.log("RES:"+e.data.message);var t=e.data.data.covid19Stats;o(t)})).catch((function(e){console.log(e)}))}),[t]),r.a.createElement("div",null,"Country not found. Case-sensitive.Please try again!"===g?r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},g):r.a.createElement(h.a,{component:b.a},r.a.createElement(u.a,{size:"small","aria-label":"a dense table"},r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(p.a,null,"City"),r.a.createElement(p.a,{align:"right"},"Province"),r.a.createElement(p.a,{align:"right"},"Country"),r.a.createElement(p.a,{align:"right"},"Confirm"),r.a.createElement(p.a,{align:"right"},"Death"),r.a.createElement(p.a,{align:"right"},"recovered"))),r.a.createElement(d.a,null,c.map((function(e,t){return r.a.createElement(v.a,{key:t},r.a.createElement(p.a,{style:{fontWeight:"bold"},component:"th",scope:"row"},e.city),r.a.createElement(p.a,{align:"right"},e.province),r.a.createElement(p.a,{align:"right"},e.country),r.a.createElement(p.a,{style:{color:"red"},align:"right"},e.confirmed),r.a.createElement(p.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.deaths),r.a.createElement(p.a,{style:{color:"green",fontWeight:"bold"},align:"right"},e.recovered))}))))))}var O=a(252),N=a(250),S=a(255),I=a(254),x=a(253),k=a(251),W={paper:{width:"20rem",padding:"1rem"},input:{marginBottom:"1rem"},button:{width:"100%"}};function R(){var e=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(m.a)(c,2),s=i[0],u=i[1];function g(e){var t=e.target,n=t.name,r=t.value;l(Object(j.a)({},a,Object(A.a)({},n,r)))}return r.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(b.a,{elevation:3,style:W.paper},r.a.createElement("h2",null,"Registration Form"),s&&r.a.createElement(r.a.Fragment,null,s.map((function(e,t){return r.a.createElement(O.a,{variant:"filled",severity:"error",key:t},e)}))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u([]),E.a.post("http://localhost:5000/api/users/register",a,{withCredentials:!0}).then((function(){console.log("Register success"),Object(o.c)("/")})).catch((function(e){console.log("cant register:"+e);var t=e.response.data.errors,a=[];for(var n in t)a.push(t[n].message);u(a)}))}},r.a.createElement(S.a,{variant:"outlined",style:W.input},r.a.createElement(I.a,null,"First Name"),r.a.createElement(x.a,{name:"firstName",value:a.firstName,type:"text",onChange:g})),r.a.createElement(S.a,{variant:"outlined",style:W.input},r.a.createElement(I.a,null,"Last Name"),r.a.createElement(x.a,{name:"lastName",value:a.lastName,type:"text",onChange:g})),r.a.createElement(S.a,{variant:"outlined",style:W.input},r.a.createElement(I.a,null,"Email"),r.a.createElement(x.a,{name:"email",value:a.email,type:"text",onChange:g})),r.a.createElement(S.a,{variant:"outlined",style:W.input},r.a.createElement(I.a,null,"Password"),r.a.createElement(x.a,{name:"password",value:a.password,type:"password",onChange:g})),r.a.createElement(S.a,{variant:"outlined",style:W.input},r.a.createElement(I.a,null,"Confirm Password"),r.a.createElement(x.a,{name:"confirmPassword",value:a.confirmPassword,type:"password",onChange:g})),r.a.createElement("br",null),r.a.createElement(o.a,{to:"/login"},"Already a member?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,{variant:"outlined",style:W.input},r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},"Register")))))}function P(){return r.a.createElement(k.a,{onClick:function(e){E.a.delete("http://localhost:5000/api/users/logout",{withCredentials:!0}).then((function(e){return Object(o.c)("/")})).catch((function(e){return console.error(e)}))}},"Log Out")}var U={paper:{width:"20rem",padding:"1rem"},input:{marginBottom:"1rem"},button:{width:"100%"}};function B(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(m.a)(c,2),s=i[0],u=i[1],g=Object(n.useState)(""),d=Object(m.a)(g,2),p=d[0],h=d[1];return r.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(b.a,{elevation:3,style:U.paper},r.a.createElement("h2",null,"Login Form"),p&&r.a.createElement(O.a,{variant:"filled",severity:"error"},p),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h(""),E.a.post("http://localhost:5000/api/users/login",{email:a,password:s},{withCredentials:!0}).then((function(){return Object(o.c)("/")})).catch((function(e){console.log("inside catch of login"),h("Please check your credentials!")}))}},r.a.createElement(S.a,{variant:"outlined",style:U.input},r.a.createElement(I.a,null,"Email"),r.a.createElement(x.a,{name:"email",value:a,type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement(S.a,{variant:"outlined",style:U.input},r.a.createElement(I.a,null,"Password"),r.a.createElement(x.a,{name:"password",value:s,type:"password",onChange:function(e){return u(e.target.value)}})),r.a.createElement("br",null),r.a.createElement(o.a,{to:"/register"},"Not a member?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,{variant:"outlined",style:U.input},r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},"Register")))))}a(143);function D(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],u=o[1];return r.a.createElement("div",{className:"joinOuterContainer"},r.a.createElement("div",{className:"joinInnerContainer"},r.a.createElement("h1",{className:"heading"},"Join"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",onChange:function(e){return u(e.target.value)}})),r.a.createElement(i.b,{onClick:function(e){return a&&s?null:e.preventDefault()},to:"/chat?name=".concat(a,"&room=").concat(s)},r.a.createElement("button",{className:"button mt-20",type:"submit"},"Sign In"))))}var _=a(105),T=a(101),L=a.n(T),M=a(102),F=a.n(M),G=a(47),Q=a.n(G),Y=(a(183),function(e){var t=e.users;return r.a.createElement("div",{className:"textContainer"},t?r.a.createElement("div",null,r.a.createElement("h1",null,"People currently chatting:"),r.a.createElement("div",{className:"activeContainer"},r.a.createElement("h2",null,t.map((function(e){var t=e.name;return r.a.createElement("div",{key:t,className:"activeItem"},t,r.a.createElement("img",{alt:"Online Icon",src:Q.a}))}))))):null)}),J=a(103),K=a.n(J),V=(a(216),a(64)),z=a.n(V),X=function(e){var t=e.message,a=t.text,n=t.user,l=!1,c=e.name.trim().toLowerCase();return n===c&&(l=!0),l?r.a.createElement("div",{className:"messageContainer justifyEnd"},r.a.createElement("p",{className:"sentText pr-10"},c),r.a.createElement("div",{className:"messageBox backgroundBlue"},r.a.createElement("p",{className:"messageText colorWhite"},z.a.emojify(a)))):r.a.createElement("div",{className:"messageContainer justifyStart"},r.a.createElement("div",{className:"messageBox backgroundLight"},r.a.createElement("p",{className:"messageText colorDark"},z.a.emojify(a))),r.a.createElement("p",{className:"sentText pl-10 "},n))},Z=(a(217),function(e){var t=e.messages,a=e.name;return r.a.createElement(K.a,{className:"messages"},t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(X,{message:e,name:a}))})))}),q=a(104),H=a.n(q),$=(a(218),function(e){var t=e.room;return r.a.createElement("div",{className:"infoBar"},r.a.createElement("div",{className:"leftInnerContainer"},r.a.createElement("img",{className:"onlineIcon",src:Q.a,alt:"online icon"}),r.a.createElement("h3",null,t)),r.a.createElement("div",{className:"rightInnerContainer"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:H.a,alt:"close icon"}))))}),ee=(a(219),function(e){var t=e.setMessage,a=e.sendMessage,n=e.message;return r.a.createElement("form",{className:"form"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){var a=e.target.value;return t(a)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),r.a.createElement("button",{className:"sendButton",onClick:function(e){return a(e)}},"Send"))}),te=(a(220),function(e){var t=e.location,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),u=s[0],g=s[1],E=Object(n.useState)(""),d=Object(m.a)(E,2),p=d[0],h=d[1],f=Object(n.useState)(""),v=Object(m.a)(f,2),b=v[0],y=v[1],A=Object(n.useState)([]),j=Object(m.a)(A,2),w=j[0],C=j[1],O=Object(n.useState)((function(){return F()(":5000")})),N=Object(m.a)(O,1)[0];Object(n.useEffect)((function(){var e=L.a.parse(t.search),a=e.name,n=e.room;return g(n),o(a),N.emit("join",{name:a,room:n}),N.on("message",(function(e){C((function(t){return[].concat(Object(_.a)(t),[e])}))})),N.on("roomData",(function(e){var t=e.users;h(t)})),function(){return N.disconnect(!0)}}),[N]);return console.log("message=>"+b,"messages=>"+w.length),r.a.createElement("div",{className:"outerContainer"},r.a.createElement("div",{className:"container"},r.a.createElement($,{room:u}),r.a.createElement(Z,{messages:w,name:c}),r.a.createElement(ee,{message:b,setMessage:y,sendMessage:function(e){e.preventDefault(),b&&(N.emit("sendMessage",b),y(""))}})),r.a.createElement(Y,{users:p}))});var ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Covid-19 Status"),r.a.createElement(o.a,{to:"/world"},"World"),"  ",r.a.createElement(o.a,{to:"/world/USA"},"USA"),"  ",r.a.createElement(o.a,{to:"/world/China"},"China"),"  ",r.a.createElement(o.a,{to:"/world/France"},"France"),"  ",r.a.createElement(o.a,{to:"/world/Italy"},"Italy"),"  ",r.a.createElement(o.a,{to:"/world/Spain"},"Spain"),"  ",r.a.createElement(o.a,{to:"/world/Germany"},"Germany"),r.a.createElement(w,null),r.a.createElement(o.a,{to:"/register"},"Registration")," ",r.a.createElement(o.a,{to:"/login"},"Login")," ",r.a.createElement(P,null),r.a.createElement(o.b,null,r.a.createElement(R,{path:"/register"}),r.a.createElement(B,{path:"/login"}),r.a.createElement(y,{path:"/world"}),r.a.createElement(C,{path:"/world/:searchCountry"})),r.a.createElement(i.a,null,r.a.createElement(s.a,{path:"/join",exact:!0,component:D}),r.a.createElement(s.a,{path:"/chat",component:te})))},ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ne?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):re(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):re(t,e)}))}}()},47:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="}},[[115,1,2]]]);
//# sourceMappingURL=main.19ed1184.chunk.js.map