(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},162:function(e,t){},165:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=(a(103),a(104),a(9)),i=a(43),s=a(21),m=a(7),u=a(189),d=a(16),E=a.n(d),p=a(193),g=a(192),h=a(186),f=a(190),v=a(191),b=a(188);function y(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){E()({method:"GET",url:"https://covid-193.p.rapidapi.com/statistics",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"covid-193.p.rapidapi.com","x-rapidapi-key":"3a01be6e25msh75a6c8a146c41d5p18acf7jsn5846c5ec8a46"}}).then((function(e){l(e.data.response)})).catch((function(e){console.log(e)}))}),[a]),r.a.createElement("div",null,r.a.createElement(h.a,{component:b.a},r.a.createElement(u.a,{size:"small","aria-label":"a dense table"},r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,null,"Country"),r.a.createElement(g.a,{align:"right"},"New Cases Today"),r.a.createElement(g.a,{align:"right"},"Active Cases"),r.a.createElement(g.a,{align:"right"},"Critical"),r.a.createElement(g.a,{align:"right"},"Recovered"),r.a.createElement(g.a,{align:"right"},"Deaths"),r.a.createElement(g.a,{align:"right"},"Total Cases"),r.a.createElement(g.a,{align:"right"},"Total Deaths"),r.a.createElement(g.a,{align:"right"},"Fatality Rate"))),r.a.createElement(p.a,null,a.map((function(e,t){return r.a.createElement(v.a,{key:t},r.a.createElement(g.a,{style:{fontWeight:"bold"},component:"th",scope:"row"},e.country),r.a.createElement(g.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.cases.new),r.a.createElement(g.a,{style:{color:"red"},align:"right"},e.cases.active),r.a.createElement(g.a,{style:{color:"red"},align:"right"},e.cases.critical),r.a.createElement(g.a,{style:{color:"green",fontWeight:"bold"},align:"right"},e.cases.recovered),r.a.createElement(g.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.deaths.new),r.a.createElement(g.a,{align:"right"},e.cases.total),r.a.createElement(g.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.deaths.total),r.a.createElement(g.a,{align:"right"},Math.floor(e.deaths.total/e.cases.total*1e4)/100,"%"))}))))))}var j=a(26),w=a(42);function O(){var e=Object(n.useState)({name:""}),t=Object(m.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object(o.c)("/world/"+a.name)}},r.a.createElement("input",{name:"name",value:a.name,onChange:function(e){l(Object(w.a)({},a,Object(j.a)({},e.target.name,e.target.value)))}}),r.a.createElement("button",null," Search Country ")))}function C(e){var t=e.searchCountry,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),d=s[0],y=s[1];return Object(n.useEffect)((function(){E()({method:"GET",url:"https://covid-19-coronavirus-statistics.p.rapidapi.com/v1/stats",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"covid-19-coronavirus-statistics.p.rapidapi.com","x-rapidapi-key":"3a01be6e25msh75a6c8a146c41d5p18acf7jsn5846c5ec8a46"},params:{country:t}}).then((function(e){y(""),"Country not found. Returning all stats. Please use a country name found in the data property."===e.data.message&&y("Country not found. Case-sensitive.Please try again!"),console.log("RES:"+e.data.message);var t=e.data.data.covid19Stats;o(t)})).catch((function(e){console.log(e)}))}),[t]),r.a.createElement("div",null,"Country not found. Case-sensitive.Please try again!"===d?r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},d):r.a.createElement(h.a,{component:b.a},r.a.createElement(u.a,{size:"small","aria-label":"a dense table"},r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,null,"City"),r.a.createElement(g.a,{align:"right"},"Province"),r.a.createElement(g.a,{align:"right"},"Country"),r.a.createElement(g.a,{align:"right"},"Confirm"),r.a.createElement(g.a,{align:"right"},"Death"),r.a.createElement(g.a,{align:"right"},"recovered"))),r.a.createElement(p.a,null,c.map((function(e,t){return r.a.createElement(v.a,{key:t},r.a.createElement(g.a,{style:{fontWeight:"bold"},component:"th",scope:"row"},e.city),r.a.createElement(g.a,{align:"right"},e.province),r.a.createElement(g.a,{align:"right"},e.country),r.a.createElement(g.a,{style:{color:"red"},align:"right"},e.confirmed),r.a.createElement(g.a,{style:{color:"red",fontWeight:"bold"},align:"right"},e.deaths),r.a.createElement(g.a,{style:{color:"green",fontWeight:"bold"},align:"right"},e.recovered))}))))))}var S=a(196),N=a(194),k=a(199),x=a(198),P=a(197),W=a(195),R={paper:{width:"20rem",padding:"1rem"},input:{marginBottom:"1rem"},button:{width:"100%"}};function D(){var e=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(m.a)(c,2),s=i[0],u=i[1];function d(e){var t=e.target,n=t.name,r=t.value;l(Object(w.a)({},a,Object(j.a)({},n,r)))}return r.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(b.a,{elevation:3,style:R.paper},r.a.createElement("h2",null,"Registration Form"),s&&r.a.createElement(r.a.Fragment,null,s.map((function(e,t){return r.a.createElement(S.a,{variant:"filled",severity:"error",key:t},e)}))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u([]),E.a.post("http://localhost:5000/api/users/register",a,{withCredentials:!0}).then((function(){console.log("Register success"),Object(o.c)("/")})).catch((function(e){console.log("cant register:"+e);var t=e.response.data.errors,a=[];for(var n in t)a.push(t[n].message);u(a)}))}},r.a.createElement(k.a,{variant:"outlined",style:R.input},r.a.createElement(x.a,null,"First Name"),r.a.createElement(P.a,{name:"firstName",value:a.firstName,type:"text",onChange:d})),r.a.createElement(k.a,{variant:"outlined",style:R.input},r.a.createElement(x.a,null,"Last Name"),r.a.createElement(P.a,{name:"lastName",value:a.lastName,type:"text",onChange:d})),r.a.createElement(k.a,{variant:"outlined",style:R.input},r.a.createElement(x.a,null,"Email"),r.a.createElement(P.a,{name:"email",value:a.email,type:"text",onChange:d})),r.a.createElement(k.a,{variant:"outlined",style:R.input},r.a.createElement(x.a,null,"Password"),r.a.createElement(P.a,{name:"password",value:a.password,type:"password",onChange:d})),r.a.createElement(k.a,{variant:"outlined",style:R.input},r.a.createElement(x.a,null,"Confirm Password"),r.a.createElement(P.a,{name:"confirmPassword",value:a.confirmPassword,type:"password",onChange:d})),r.a.createElement("br",null),r.a.createElement(o.a,{to:"/login"},"Already a member?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"outlined",style:R.input},r.a.createElement(W.a,{type:"submit",variant:"contained",color:"primary"},"Register")))))}function I(){return r.a.createElement(W.a,{onClick:function(e){E.a.delete("http://localhost:5000/api/users/logout",{withCredentials:!0}).then((function(e){return Object(o.c)("/")})).catch((function(e){return console.error(e)}))}},"Log Out")}var F={paper:{width:"20rem",padding:"1rem"},input:{marginBottom:"1rem"},button:{width:"100%"}};function T(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(m.a)(c,2),s=i[0],u=i[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),g=p[0],h=p[1];return r.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(b.a,{elevation:3,style:F.paper},r.a.createElement("h2",null,"Login Form"),g&&r.a.createElement(S.a,{variant:"filled",severity:"error"},g),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h(""),E.a.post("http://localhost:5000/api/users/login",{email:a,password:s},{withCredentials:!0}).then((function(){return Object(o.c)("/")})).catch((function(e){console.log("inside catch of login"),h("Please check your credentials!")}))}},r.a.createElement(k.a,{variant:"outlined",style:F.input},r.a.createElement(x.a,null,"Email"),r.a.createElement(P.a,{name:"email",value:a,type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement(k.a,{variant:"outlined",style:F.input},r.a.createElement(x.a,null,"Password"),r.a.createElement(P.a,{name:"password",value:s,type:"password",onChange:function(e){return u(e.target.value)}})),r.a.createElement("br",null),r.a.createElement(o.a,{to:"/register"},"Not a member?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"outlined",style:F.input},r.a.createElement(W.a,{type:"submit",variant:"contained",color:"primary"},"Register")))))}function A(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Join"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",onChange:function(e){return u(e.target.value)}})),r.a.createElement(i.b,{onClick:function(e){return a&&s?null:e.preventDefault()},to:"/chat?name=".concat(a,"&room=").concat(s)},r.a.createElement("button",{className:"button mt-20",type:"submit"},"Sign In"))))}var B=a(88),G=a(86),L=a.n(G),J=a(87),U=a.n(J);function z(e){var t=e.location,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=(l[0],l[1]),o=Object(n.useState)(""),i=Object(m.a)(o,2),s=(i[0],i[1]),u=Object(n.useState)(""),d=Object(m.a)(u,2),E=d[0],p=d[1],g=Object(n.useState)([]),h=Object(m.a)(g,2),f=h[0],v=h[1],b=Object(n.useState)((function(){return U()(":5000")})),y=Object(m.a)(b,1)[0];Object(n.useEffect)((function(){var e=L.a.parse(t.search),a=e.name,n=e.room;return s(n),c(a),y.emit("join",{name:a,room:n}),y.on("message",(function(e){v([].concat(Object(B.a)(f),[e]))})),function(){y.emit("disconnect"),y.off()}}),[y]);return console.log(E,f),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{value:E,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?function(e){e.preventDefault(),E&&(y.emit("sendMessage",E),p(""))}(e):null}})))}var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Covid-19 Status (Updated every 15 minutes.)"),r.a.createElement(o.a,{to:"/world"},"World"),"  ",r.a.createElement(o.a,{to:"/world/USA"},"USA(Take longer time,please wait)"),"  ",r.a.createElement(o.a,{to:"/world/China"},"China"),"  ",r.a.createElement(o.a,{to:"/world/France"},"France"),"  ",r.a.createElement(o.a,{to:"/world/Italy"},"Italy"),"  ",r.a.createElement(o.a,{to:"/world/Spain"},"Spain"),"  ",r.a.createElement(o.a,{to:"/world/Germany"},"Germany"),r.a.createElement(O,null)," "," ",r.a.createElement(o.a,{to:"/register"},"Registration")," ",r.a.createElement(o.a,{to:"/login"},"Login")," ",r.a.createElement(I,null),r.a.createElement(o.b,null,r.a.createElement(D,{path:"/register"}),r.a.createElement(T,{path:"/login"}),r.a.createElement(y,{path:"/world"}),r.a.createElement(C,{path:"/world/:searchCountry"})),r.a.createElement(i.a,null,r.a.createElement(s.a,{path:"/join",exact:!0,component:A}),r.a.createElement(s.a,{path:"/chat",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,a){e.exports=a(165)}},[[98,1,2]]]);
//# sourceMappingURL=main.f6ba23e9.chunk.js.map